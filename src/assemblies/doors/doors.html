<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="doors.css">
  <style>
    /* Additional styles can be added here if needed */
  </style>

  <meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Door Pricing Calculator (AK, March 2025 Basis)</title>
</head>
<body data-page="assemblies-doors">
<div class="wrap">
  <div class="grid">
    <div class="col-8 card shadow">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <div class="pill">Alaska Budgetary Estimator</div>
          <h1>Door Pricing Calculator</h1>
          <div class="help">Material + Shipping/Handling + Labor (Anchorage). Man doors use March 2025 reference pricing with size banding; sectionals & roll-ups use per-SF. Everything is editable.</div>
        </div>
        <div><span class="pill">Editable Pricing Config ↓</span></div>
      </div>
      <hr style="border:none;border-top:1px solid #223148; margin:12px -16px 16px;">

      <div class="row">
        <div class="third">
          <label>Door Type</label>
          <select id="doorType"></select>
        </div>
        <div class="third">
          <label>Material</label>
          <select id="material"></select>
        </div>
        <div class="third">
          <label>Quantity</label>
          <input id="qty" type="number" min="1" value="1" />
        </div>

        <div class="half">
          <label>Width</label>
          <div style="display:flex;gap:8px;align-items:center">
            <input id="w_ft" type="number" min="0" step="1" value="3" />
            <input id="w_in" type="number" min="0" max="11.99" step="0.25" value="0" />
            <span class="t-sub">ft / in</span>
          </div>
        </div>
        <div class="half">
          <label>Height</label>
          <div style="display:flex;gap:8px;align-items:center">
            <input id="h_ft" type="number" min="0" step="1" value="7" />
            <input id="h_in" type="number" min="0" max="11.99" step="0.25" value="0" />
            <span class="t-sub">ft / in</span>
          </div>
        </div>

        <!-- Man Door Extras -->
        <div class="half">
          <label>Include Frame (man doors)</label>
          <select id="frameOpt">
            <option value="none">None</option>
            <option value="interior">Interior (HM)</option>
            <option value="ext_insulated">Exterior Insulated (HM)</option>
          </select>
        </div>
        <div class="half">
          <label>Glazing (man doors)</label>
          <select id="glazingOpt">
            <option value="none">None</option>
            <option value="narrow">Narrow lite (≈4x22")</option>
            <option value="half">Half lite (int)</option>
            <option value="full">Full lite</option>
          </select>
        </div>
        <div class="half">
          <label>Hardware Package</label>
          <select id="hardwarePack">
            <option value="none">None (I’ll add a la carte)</option>
            <option value="int_set">Interior Single Door Set</option>
            <option value="ext_set">Exterior Single Door Set</option>
            <option value="panic_rim">Panic Rim w/ Trim</option>
            <option value="closer_std">Closer (Interior)</option>
            <option value="closer_hd">Closer (Heavy Duty Exterior)</option>
            <option value="normal_amenities">Normal Amenities (kick, stop, push/pull, seal)</option>
          </select>
        </div>
        <div class="half">
          <label>Optional Add-Ons (Ctrl/Cmd to multi-select)</label>
          <select id="hardwareAddOns" multiple size="6">
            <option value="deadbolt">Deadbolt</option>
            <option value="lever_keyed">Lever Latch (Keyed w/ core)</option>
            <option value="lever_privacy">Lever Latch (Privacy)</option>
            <option value="lever_passage">Lever Latch (Passage)</option>
            <option value="keypad_mech">Digital Keypad (Mechanical)</option>
            <option value="keypad_elec">Digital Keypad (Electronic)</option>
            <option value="electric_strike">Electric Strike</option>
            <option value="electric_hinges">Electric Hinges</option>
            <option value="door_contacts">Door Contacts</option>
            <option value="card_reader">Card Reader</option>
            <option value="power_supply">Power Supply</option>
          </select>
        </div>

        <div class="half">
          <label>Custom Glazing Area (sf, optional)</label>
          <input id="customGlassSf" type="number" min="0" step="0.25" value="0" />
          <div class="help">Priced at $55 / $20 (Mat/Labor) per sf; transoms/sidelites at $115 / $25 per sf (set in config).</div>
        </div>
        <div class="half">
          <label>Transom + Sidelites Area (sf, optional)</label>
          <input id="tsGlassSf" type="number" min="0" step="0.25" value="0" />
        </div>

        <div class="third">
          <label>Shipping Method</label>
          <select id="shipMethod"></select>
        </div>
        <div class="third">
          <label>Remote / Complexity Factor</label>
          <div style="display:flex;gap:8px;align-items:center">
            <input id="remotePct" type="number" min="0" step="5" value="15" />
            <span class="t-sub">%</span>
          </div>
        </div>
        <div class="third">
          <label>O&amp;P (optional)</label>
          <div style="display:flex;gap:8px;align-items:center">
            <input id="opPct" type="number" min="0" step="1" value="0" />
            <span class="t-sub">%</span>
          </div>
        </div>

        <div class="half">
          <button class="btn" id="calcBtn">Calculate</button>
          <button class="btn secondary" id="resetBtn">Reset</button>
        </div>
      </div>

      <div style="margin-top:18px">
        <h2>Results</h2>
        <table class="mono" id="resultsTbl" aria-live="polite">
          <thead>
            <tr><th>Component</th><th>Units</th><th>Unit Cost</th><th>Extended</th></tr>
          </thead>
        <tbody id="resultsBody">
            <tr><td colspan="4" class="t-sub">No calculation yet.</td></tr>
          </tbody>
          <tfoot>
            <tr><th colspan="3" style="text-align:right">Subtotal</th><th id="subtotal">$0.00</th></tr>
            <tr><th colspan="3" style="text-align:right">O&amp;P</th><th id="opAmt">$0.00</th></tr>
            <tr><th colspan="3" style="text-align:right" class="total">Total</th><th class="total" id="grandTotal">$0.00</th></tr>
          </tfoot>
        </table>
        <div class="note" id="assump" style="margin-top:8px"></div>

        <details style="margin-top:12px">
          <summary>Assumptions & Notes</summary>
          <ul class="note">
            <li><b>Man doors:</b> March 2025 reference pricing per width band (3-0/4-0/6-0). For heights ≠ 7-0, material/labor scale by height/7. Hardware packs & add-ons per sheet.</li>
            <li><b>Sectionals & Roll-Ups:</b> Per-SF costs & weights (editable); labor via MH/sf × trade rate (Anchorage).</li>
            <li>Shipping = $/lb by method + handling % (minimum applies). Weights estimated by type/material (lbs/sf).</li>
            <li>Remote/complexity factor applies to labor only. Budgetary outputs—replace with vendor quotes for bid accuracy.</li>
          </ul>
        </details>
      </div>
    </div>

    <div class="col-4 card shadow">
      <h2>Pricing Config (editable)</h2>
      <div class="help" style="margin-bottom:8px">Numbers reflect your <b>March 2025</b> sheet and AK shipping/labor defaults. Edit and click <b>Apply Config</b>.</div>
      <textarea id="configBox"></textarea>
      <div style="display:flex;gap:8px;margin-top:8px">
        <button class="btn" id="applyCfg">Apply Config</button>
        <button class="btn secondary" id="restoreCfg">Restore Defaults</button>
      </div>
    </div>
  </div>
</div>

<script src="doors.js"></script>
</body>
</html>
