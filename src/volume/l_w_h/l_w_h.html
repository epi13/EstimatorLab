<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="../styles.css">
  <style>
    /* volume/l_w_h.html */
    body[data-page="volume-l-w-h"] { --gap:12px; --radius:12px; }
    body[data-page="volume-l-w-h"] * {box-sizing:border-box}
    body[data-page="volume-l-w-h"] {font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.35;margin:0;background:#0b0d10;color:#e8eaed}
    body[data-page="volume-l-w-h"] .wrap {max-width:980px;margin:auto;padding:24px}
    body[data-page="volume-l-w-h"] .card {background:#15181d;border:1px solid #242a32;border-radius:var(--radius);padding:20px;box-shadow:0 4px 20px rgba(0,0,0,.2)}
    body[data-page="volume-l-w-h"] h1 {font-size:1.4rem;margin:0 0 8px}
    body[data-page="volume-l-w-h"] p.desc {margin:0 0 18px;color:#a7b0ba}
    body[data-page="volume-l-w-h"] .grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:var(--gap)}
    body[data-page="volume-l-w-h"] label {font-weight:600;font-size:.9rem;display:block;margin:0 0 6px}
    body[data-page="volume-l-w-h"] .row {display:flex;gap:8px}
    body[data-page="volume-l-w-h"] input[type="number"], body[data-page="volume-l-w-h"] select {width:100%;padding:10px 12px;border:1px solid #2b313a;border-radius:10px;background:#0f1216;color:#e8eaed}
    body[data-page="volume-l-w-h"] input[type="number"]:focus, body[data-page="volume-l-w-h"] select:focus {outline:2px solid #3a80ff;outline-offset:1px}
    body[data-page="volume-l-w-h"] .actions {display:flex;gap:10px;flex-wrap:wrap;margin-top:16px}
    body[data-page="volume-l-w-h"] button {padding:10px 14px;border-radius:10px;border:1px solid #2b313a;background:#1c222b;color:#e8eaed;cursor:pointer}
    body[data-page="volume-l-w-h"] button.primary {background:#3a80ff;border-color:#3a80ff;color:white}
    body[data-page="volume-l-w-h"] button:disabled {opacity:.6;cursor:not-allowed}
    body[data-page="volume-l-w-h"] .results {margin-top:18px;padding:16px;border:1px dashed #2b313a;border-radius:10px;background:#101419}
    body[data-page="volume-l-w-h"] .results h2 {font-size:1.05rem;margin:0 0 10px}
    body[data-page="volume-l-w-h"] .resgrid {display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px}
    body[data-page="volume-l-w-h"] .res {background:#0b0e12;border:1px solid #1e242c;border-radius:10px;padding:12px}
    body[data-page="volume-l-w-h"] .res .label {color:#9aa5b1;font-size:.8rem}
    body[data-page="volume-l-w-h"] .res .val {font-size:1.1rem;font-variant-numeric:tabular-nums}
    body[data-page="volume-l-w-h"] .muted {color:#9aa5b1}
    body[data-page="volume-l-w-h"] .foot {margin-top:10px;font-size:.85rem;color:#9aa5b1}
    body[data-page="volume-l-w-h"] .inline {display:inline-flex;gap:6px;align-items:center}
    body[data-page="volume-l-w-h"] .diagram {margin-top:18px;border:1px solid #242a32;border-radius:12px;overflow:hidden;background:#0f1216}
    body[data-page="volume-l-w-h"] .diagram header {padding:10px 12px;border-bottom:1px solid #242a32;color:#9aa5b1;font-size:.9rem}
    body[data-page="volume-l-w-h"] .diagram .canvas {display:flex;align-items:center;justify-content:center;padding:12px}
    body[data-page="volume-l-w-h"] svg {max-width:100%;height:auto}
    body[data-page="volume-l-w-h"] .note {font-size:.8rem;color:#98a4af;margin-top:6px}
  </style>

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simple Volume Calculator (L × W × H)</title>
</head>
<body data-page="volume-l-w-h">
  <div class="wrap">
    <div class="card" role="form" aria-labelledby="title">
      <h1 id="title">Simple Volume Calculator (L × W × H)</h1>
      <p class="desc">Choose a shape, enter dimensions, pick units, and get volume. Includes an SVG diagram with example axes (x, y, z).</p>

      <div class="grid" id="inputs">
        <div>
          <label for="shape">Object shape</label>
          <select id="shape" aria-label="Object shape">
            <option value="box">Square/Rectangle (Rectangular Prism)</option>
            <option value="cylinder">Cylinder</option>
            <option value="pyramid">Pyramid (Rectangular Base)</option>
          </select>
        </div>

        <div>
          <label for="len" id="lenLabel">Length (x)</label>
          <div class="row">
            <input id="len" type="number" inputmode="decimal" step="any" min="0" placeholder="e.g., 12" />
            <select id="lenUnit" aria-label="Length unit">
              <option value="ft">ft</option>
              <option value="in">in</option>
              <option value="m">m</option>
              <option value="cm">cm</option>
              <option value="mm">mm</option>
            </select>
          </div>
        </div>

        <div id="widWrap">
          <label for="wid" id="widLabel">Width (y)</label>
          <div class="row">
            <input id="wid" type="number" inputmode="decimal" step="any" min="0" placeholder="e.g., 10" />
            <select id="widUnit" aria-label="Width unit">
              <option value="ft">ft</option>
              <option value="in">in</option>
              <option value="m">m</option>
              <option value="cm">cm</option>
              <option value="mm">mm</option>
            </select>
          </div>
        </div>

        <div>
          <label for="hgt" id="hgtLabel">Height / Thickness (z)</label>
          <div class="row">
            <input id="hgt" type="number" inputmode="decimal" step="any" min="0" placeholder="e.g., 4" />
            <select id="hgtUnit" aria-label="Height unit">
              <option value="in">in</option>
              <option value="ft">ft</option>
              <option value="m">m</option>
              <option value="cm">cm</option>
              <option value="mm">mm</option>
            </select>
          </div>
        </div>

        <div>
          <label for="qty">Quantity</label>
          <div class="row">
            <input id="qty" type="number" inputmode="decimal" step="1" min="1" value="1" />
            <div class="inline muted" aria-hidden="true">items</div>
          </div>
        </div>

        <div>
          <label for="outUnit">Output unit</label>
          <select id="outUnit" aria-label="Output unit">
            <option value="ft3">Cubic feet</option>
            <option value="yd3">Cubic yards</option>
            <option value="m3">Cubic meters</option>
            <option value="L">Liters</option>
            <option value="gal">US gallons</option>
          </select>
        </div>
      </div>

      <div class="actions">
        <button class="primary" id="calcBtn">Calculate</button>
        <button id="resetBtn" type="button">Reset</button>
      </div>

      <div class="diagram" id="diagram">
        <header>Diagram</header>
        <div class="canvas" id="diagramCanvas" aria-live="polite"></div>
        <div class="note" id="diagramNote">Example axes shown as x (length), y (width), z (height). Dimensions not to scale.</div>
      </div>

      <div class="results" id="results" hidden>
        <h2>Results</h2>
        <div class="resgrid">
          <div class="res">
            <div class="label">Per item</div>
            <div class="val" id="perItem">—</div>
          </div>
          <div class="res">
            <div class="label">Total (× quantity)</div>
            <div class="val" id="total">—</div>
          </div>
        </div>
        <div class="foot" id="footnote"></div>
      </div>
    </div>
  </div>

  <script>
    const $ = (id)=>document.getElementById(id);

    const lengthToMeters = { mm:0.001, cm:0.01, m:1, in:0.0254, ft:0.3048 };
    const m3To = { ft3:35.3146667, yd3:1.30795062, m3:1, L:1000, gal:264.172052 };

    function fmt(n){
      if (!isFinite(n)) return '—';
      if (Math.abs(n) >= 1000) return n.toLocaleString(undefined,{maximumFractionDigits:2});
      if (Math.abs(n) >= 1) return n.toLocaleString(undefined,{maximumFractionDigits:3});
      return n.toLocaleString(undefined,{maximumFractionDigits:5});
    }

    function labelFor(unit){
      switch(unit){
        case 'ft3': return 'ft³';
        case 'yd3': return 'yd³';
        case 'm3': return 'm³';
        case 'L': return 'L';
        case 'gal': return 'US gal';
        default: return unit;
      }
    }

    function toMeters(value, unit){ return value * lengthToMeters[unit]; }

    function compute(){
      const shape = $("shape").value;
      const qty = Math.max(1, parseInt($("qty").value || '1', 10));
      const out = $("outUnit").value;

      const len = parseFloat($("len").value); // x
      const wid = parseFloat($("wid").value); // y (may be hidden)
      const hgt = parseFloat($("hgt").value); // z
      const lu = $("lenUnit").value;
      const wu = $("widUnit").value;
      const hu = $("hgtUnit").value;

      // Validate needed dims per shape
      const needY = shape === 'box' || shape === 'pyramid';
      const needed = [len, hgt];
      if (needY) needed.push(wid);
      if (needed.some(v=>!isFinite(v) || v<=0)){
        $("results").hidden = false;
        $("perItem").textContent = 'Please enter positive numbers for required dimensions.';
        $("total").textContent = '—';
        $("footnote").textContent = '';
        return;
      }

      // Convert to meters
      const xm = toMeters(len, lu);
      const zm = toMeters(hgt, hu);
      const ym = needY ? toMeters(wid, wu) : NaN;

      let v_m3 = 0;
      if (shape === 'box') {
        v_m3 = xm * ym * zm; // L*W*H
      } else if (shape === 'cylinder') {
        const radius_m = xm / 2; // x is Diameter
        v_m3 = Math.PI * radius_m * radius_m * zm; // π r^2 h
      } else if (shape === 'pyramid') {
        v_m3 = (xm * ym * zm) / 3; // (L*W*H)/3
      }

      const conv = m3To[out];
      const per = v_m3 * conv;
      const tot = per * qty;

      $("results").hidden = false;
      $("perItem").textContent = `${fmt(per)} ${labelFor(out)}`;
      $("total").textContent = `${fmt(tot)} ${labelFor(out)}`;
      $("footnote").textContent = `Inputs converted to meters internally. Shape='${shape}'. Quantity multiplies per-item volume.`;
    }

    function updateShapeUI(){
      const shape = $("shape").value;
      const widWrap = $("widWrap");
      const lenLabel = $("lenLabel");
      const widLabel = $("widLabel");
      const hgtLabel = $("hgtLabel");

      if (shape === 'box'){
        widWrap.style.display = '';
        lenLabel.textContent = 'Length (x)';
        widLabel.textContent = 'Width (y)';
        hgtLabel.textContent = 'Height / Thickness (z)';
        $("diagramNote").textContent = 'Rectangular prism: x × y × z. Volume = x · y · z. Example axes shown.';
      } else if (shape === 'cylinder'){
        widWrap.style.display = 'none';
        lenLabel.textContent = 'Diameter (x)';
        hgtLabel.textContent = 'Height (z)';
        $("diagramNote").textContent = 'Cylinder: diameter x and height z. Volume = π · (x/2)² · z.';
      } else if (shape === 'pyramid'){
        widWrap.style.display = '';
        lenLabel.textContent = 'Base length (x)';
        widLabel.textContent = 'Base width (y)';
        hgtLabel.textContent = 'Height (z)';
        $("diagramNote").textContent = 'Rectangular-base pyramid: x × y base and height z. Volume = (x · y · z)/3.';
      }
      renderDiagram();
    }

    function renderDiagram(){
      const shape = $("shape").value;
      const el = $("diagramCanvas");
      el.innerHTML = (shape === 'box') ? boxSVG() : (shape === 'cylinder') ? cylinderSVG() : pyramidSVG();
    }

    // Simple illustrative SVGs with x/y/z arrows and labels
    function axesDefs(){
      return `
      <defs>
        <marker id="arrow" viewBox="0 0 10 10" refX="6" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
          <path d="M 0 0 L 10 5 L 0 10 z" fill="#9aa5b1"/>
        </marker>
      </defs>`;
    }

    function boxSVG(){
      return `
      <svg viewBox="0 0 320 200" role="img" aria-label="Rectangular prism with x, y, z">
        ${axesDefs()}
        <rect x="70" y="50" width="140" height="90" fill="#1a2028" stroke="#2a3340" />
        <polygon points="210,50 250,70 250,160 210,140" fill="#141a20" stroke="#2a3340"/>
        <polygon points="70,50 110,70 250,70 210,50" fill="#12171d" stroke="#2a3340"/>
        <!-- x dimension -->
        <line x1="70" y1="170" x2="210" y2="170" stroke="#9aa5b1" marker-end="url(#arrow)" marker-start="url(#arrow)"/>
        <text x="160" y="185" fill="#cbd5df" font-size="12" text-anchor="middle">x (length)</text>
        <!-- y dimension (depth) -->
        <line x1="210" y1="50" x2="250" y2="70" stroke="#9aa5b1" marker-end="url(#arrow)"/>
        <text x="245" y="64" fill="#cbd5df" font-size="12">y (width)</text>
        <!-- z dimension -->
        <line x1="55" y1="140" x2="55" y2="50" stroke="#9aa5b1" marker-end="url(#arrow)"/>
        <text x="40" y="50" fill="#cbd5df" font-size="12" transform="rotate(-90 40,50)">z (height)</text>
      </svg>`;
    }

    function cylinderSVG(){
      return `
      <svg viewBox="0 0 320 200" role="img" aria-label="Cylinder with diameter x and height z">
        ${axesDefs()}
        <!-- top ellipse -->
        <ellipse cx="160" cy="70" rx="70" ry="20" fill="#12171d" stroke="#2a3340"/>
        <!-- body -->
        <rect x="90" y="70" width="140" height="80" fill="#151a21" stroke="#2a3340"/>
        <!-- bottom ellipse (hidden style) -->
        <ellipse cx="160" cy="150" rx="70" ry="20" fill="#151a21" stroke="#2a3340"/>
        <!-- diameter x -->
        <line x1="90" y1="40" x2="230" y2="40" stroke="#9aa5b1" marker-start="url(#arrow)" marker-end="url(#arrow)"/>
        <text x="160" y="30" fill="#cbd5df" font-size="12" text-anchor="middle">x (diameter)</text>
        <!-- height z -->
        <line x1="260" y1="70" x2="260" y2="150" stroke="#9aa5b1" marker-end="url(#arrow)"/>
        <text x="270" y="110" fill="#cbd5df" font-size="12" transform="rotate(90 270,110)">z (height)</text>
      </svg>`;
    }

    function pyramidSVG(){
      return `
      <svg viewBox="0 0 320 200" role="img" aria-label="Rectangular-base pyramid with base x,y and height z">
        ${axesDefs()}
        <!-- base rectangle -->
        <polygon points="80,140 220,140 250,160 110,160" fill="#11161c" stroke="#2a3340"/>
        <!-- sides -->
        <line x1="80" y1="140" x2="165" y2="70" stroke="#2a3340"/>
        <line x1="220" y1="140" x2="165" y2="70" stroke="#2a3340"/>
        <line x1="110" y1="160" x2="165" y2="70" stroke="#2a3340"/>
        <line x1="250" y1="160" x2="165" y2="70" stroke="#2a3340"/>
        <!-- x dimension -->
        <line x1="80" y1="175" x2="220" y2="175" stroke="#9aa5b1" marker-start="url(#arrow)" marker-end="url(#arrow)"/>
        <text x="150" y="190" fill="#cbd5df" font-size="12" text-anchor="middle">x (base length)</text>
        <!-- y dimension (depth) -->
        <line x1="220" y1="140" x2="250" y2="160" stroke="#9aa5b1" marker-end="url(#arrow)"/>
        <text x="248" y="156" fill="#cbd5df" font-size="12">y (base width)</text>
        <!-- height z -->
        <line x1="270" y1="160" x2="270" y2="70" stroke="#9aa5b1" marker-end="url(#arrow)"/>
        <text x="284" y="70" fill="#cbd5df" font-size="12" transform="rotate(-90 284,70)">z (height)</text>
      </svg>`;
    }

    function resetAll(){
      $("shape").value = 'box';
      $("len").value = '';
      $("wid").value = '';
      $("hgt").value = '';
      $("qty").value = 1;
      $("lenUnit").value = 'ft';
      $("widUnit").value = 'ft';
      $("hgtUnit").value = 'in';
      $("outUnit").value = 'ft3';
      $("results").hidden = true;
      updateShapeUI();
    }

    // Wire up
    $("calcBtn").addEventListener('click', compute);
    $("resetBtn").addEventListener('click', resetAll);
    $("shape").addEventListener('change', updateShapeUI);

    for (const id of ['len','wid','hgt','qty','lenUnit','widUnit','hgtUnit','outUnit']){
      $(id).addEventListener('input', ()=>{
        const shape = $("shape").value;
        const dimsPresent = shape === 'cylinder' ?
          [$("len").value !== '', $("hgt").value !== ''].every(Boolean) :
          [$("len").value !== '', $("wid").value !== '', $("hgt").value !== ''].every(Boolean);
        if (dimsPresent) compute();
      });
      $(id).addEventListener('change', compute);
    }

    // Init
    resetAll();
  </script>
</body>
</html>
